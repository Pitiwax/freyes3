<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Actualizar Gestión</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../js/gestion.js"></script>
    <script>
        function validarFormulario() {
            var idCliente = document.getElementById("sel_id_cliente").value;
            var idUsuario = document.getElementById("sel_id_usuario").value;
            var idTipoGestion = document.getElementById("sel_id_tipo_gestion").value;
            var idResultado = document.getElementById("sel_id_resultado").value;
            var comentarios = document.getElementById("txt_comentarios").value;

            if (!idCliente || !idUsuario || !idTipoGestion || !idResultado || !comentarios) {
                alert("Todos los campos son obligatorios. Por favor, complete todos los campos.");
                return false;
            }

            return true;
        }
    </script>
</head>
<body onload="obtenerIdActualizacion();">
    <div class="container">
        <h1 class="my-4">Actualizar Gestión</h1>
        <form id="form_actualizar_gestion" onsubmit="return validarFormulario();">
            <div class="mb-3">
                <label for="sel_id_cliente" class="form-label">Cliente</label>
                <select class="form-select" id="sel_id_cliente" name="id_cliente" required>
                    <option value="">Seleccione un cliente</option>
                    <!-- Opciones cargadas dinámicamente desde la API -->
                </select>
            </div>
            <div class="mb-3">
                <label for="sel_id_usuario" class="form-label">Usuario</label>
                <select class="form-select" id="sel_id_usuario" name="id_usuario" required>
                    <option value="">Seleccione un usuario</option>
                    <!-- Opciones cargadas dinámicamente desde la API -->
                </select>
            </div>
            <div class="mb-3">
                <label for="sel_id_tipo_gestion" class="form-label">Tipo de Gestión</label>
                <select class="form-select" id="sel_id_tipo_gestion" name="id_tipo_gestion" required>
                    <option value="">Seleccione un tipo de gestión</option>
                    <!-- Opciones cargadas dinámicamente desde la API -->
                </select>
            </div>
            <div class="mb-3">
                <label for="sel_id_resultado" class="form-label">Resultado</label>
                <select class="form-select" id="sel_id_resultado" name="id_resultado" required>
                    <option value="">Seleccione un resultado</option>
                    <!-- Opciones cargadas dinámicamente desde la API -->
                </select>
            </div>
            <div class="mb-3">
                <label for="txt_comentarios" class="form-label">Comentarios</label>
                <input type="text" class="form-control" id="txt_comentarios" name="comentarios" required>
            </div>
            <button type="button" class="btn btn-primary" onclick="actualizarGestion();">Actualizar</button>
        </form>
    </div>
</body>
</html>
